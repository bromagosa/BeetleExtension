<script app="Snap! 10-dev, https://snap.berkeley.edu" version="2"><blocks><palette><category name="3D Beetle" color="92,181,255,1"/></palette><block-definition s="pop position" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doWarp"><script><block s="doIf"><block s="reportNot"><block s="reportListIsEmpty"><custom-block s="stack"></custom-block></block></block><script><block s="doDeclareVariables"><list><l>record</l></list></block><block s="doSetVar"><l>record</l><block s="reportListItem"><l><option>last</option></l><custom-block s="stack"></custom-block></block></block><block s="doApplyExtension"><l>bb_goto(x, y, z)</l><block s="reportListItem"><l>1</l><block var="record"/></block></block><block s="doApplyExtension"><l>bb_setrot(x, y, z)</l><block s="reportListItem"><l>2</l><block var="record"/></block></block><block s="doDeleteFromList"><l><option>last</option></l><custom-block s="stack"></custom-block></block></script><list></list></block></script></block></script></block-definition><block-definition s="stack" type="reporter" category="3D Beetle" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doIf"><block s="reportNot"><block s="reportListContainsItem"><block s="reportApplyExtension"><l>var_names(scope)</l><list><l>global</l></list></block><l>bb_stack</l></block></block><script><block s="doApplyExtension"><l>var_declare(scope, name)</l><list><l>global</l><l>bb_stack</l></list></block><block s="doApplyExtension"><l>var_hide(name)</l><list><l>bb_stack</l></list></block><block s="doApplyExtension"><l>var_set(name, val)</l><list><l>bb_stack</l><block s="reportNewList"><list></list></block></list></block></script><list></list></block><block s="doReport"><block s="reportApplyExtension"><l>var_get(name)</l><list><l>bb_stack</l></list></block></block></script></block-definition><block-definition s="set scale to %&apos;n&apos;" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%n">1</input></inputs><script><block s="doApplyExtension"><l>bb_setscale(scale)</l><list><block var="n"/></list></block></script></block-definition><block-definition s="stop extruding" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>bb_stopextruding()</l><list></list></block></script></block-definition><block-definition s="move %&apos;n&apos; steps" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%n">1</input></inputs><script><custom-block s="change relative %s by %n"><l>x</l><block var="n"/></custom-block></script></block-definition><block-definition s="change relative %&apos;which&apos; by %&apos;n&apos;" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">y<options>x&#xD;y&#xD;z</options></input><input type="%n">2</input></inputs><script><block s="doApplyExtension"><l>bb_move(axis, steps)</l><list><block var="which"/><block var="n"/></list></block></script></block-definition><block-definition s="start extruding" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>bb_startextruding()</l><list></list></block></script></block-definition><block-definition s="push position" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doAddToList"><block s="reportNewList"><list><custom-block s="%s position"><l></l></custom-block><custom-block s="%s rotation"><l></l></custom-block></list></block><custom-block s="stack"></custom-block></block></script></block-definition><block-definition s="%&apos;which&apos; position" type="reporter" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">x<options>x&#xD;y&#xD;z</options></input></inputs><script><block s="doIfElse"><block s="reportVariadicEquals"><list><block var="which"/><l></l></list></block><script><block s="doReport"><block s="reportApplyExtension"><l>bb_position()</l><list></list></block></block></script><script><block s="doReport"><block s="reportListItem"><block s="reportListIndex"><block var="which"/><block s="reportNewList"><list><l>x</l><l>y</l><l>z</l></list></block></block><block s="reportApplyExtension"><l>bb_position()</l><list></list></block></block></block></script></block></script></block-definition><block-definition s="%&apos;which&apos; rotation" type="reporter" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">z<options>x&#xD;y&#xD;z</options></input></inputs><script><block s="doIfElse"><block s="reportVariadicEquals"><list><block var="which"/><l></l></list></block><script><block s="doReport"><block s="reportApplyExtension"><l>bb_rotation()</l><list></list></block></block></script><script><block s="doReport"><block s="reportListItem"><block s="reportListIndex"><block var="which"/><block s="reportNewList"><list><l>x</l><l>y</l><l>z</l></list></block></block><block s="reportApplyExtension"><l>bb_rotation()</l><list></list></block></block></block></script></block></script></block-definition><block-definition s="tree level %&apos;level&apos; angle %&apos;angle&apos; leaves %&apos;leave shape&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input><input type="%cmdRing"></input></inputs><script><block s="doIfElse"><block s="reportVariadicEquals"><list><block var="level"/><l>0</l></list></block><script><block s="doRun"><block var="leave shape"/><list></list></block><block s="doReport"><l></l></block></script><script><custom-block s="push position"></custom-block><custom-block s="rotate %s by %n"><l>z</l><block var="angle"/></custom-block><custom-block s="start extruding"></custom-block><custom-block s="move %n steps"><block var="level"/></custom-block><custom-block s="stop extruding"></custom-block><custom-block s="tree level %s angle %s leaves %cmdRing"><block s="reportDifference"><block var="level"/><l>1</l></block><block var="angle"/><block var="leave shape"/></custom-block><custom-block s="pop position"></custom-block><custom-block s="push position"></custom-block><custom-block s="rotate %s by %n"><l>z</l><block s="reportDifference"><l></l><block var="angle"/></block></custom-block><custom-block s="start extruding"></custom-block><custom-block s="move %n steps"><block var="level"/></custom-block><custom-block s="stop extruding"></custom-block><custom-block s="tree level %s angle %s leaves %cmdRing"><block s="reportDifference"><block var="level"/><l>1</l></block><block var="angle"/><block var="leave shape"/></custom-block><custom-block s="pop position"></custom-block><custom-block s="rotate %s by %n"><l>x</l><l>90</l></custom-block><custom-block s="push position"></custom-block><custom-block s="rotate %s by %n"><l>z</l><block var="angle"/></custom-block><custom-block s="start extruding"></custom-block><custom-block s="move %n steps"><block var="level"/></custom-block><custom-block s="stop extruding"></custom-block><custom-block s="tree level %s angle %s leaves %cmdRing"><block s="reportDifference"><block var="level"/><l>1</l></block><block var="angle"/><block var="leave shape"/></custom-block><custom-block s="pop position"></custom-block><custom-block s="rotate %s by %n"><l>z</l><block s="reportDifference"><l></l><block var="angle"/></block></custom-block><custom-block s="start extruding"></custom-block><custom-block s="move %n steps"><block var="level"/></custom-block><custom-block s="stop extruding"></custom-block><custom-block s="tree level %s angle %s leaves %cmdRing"><block s="reportDifference"><block var="level"/><l>1</l></block><block var="angle"/><block var="leave shape"/></custom-block></script></block></script></block-definition><block-definition s="rotate %&apos;which&apos; by %&apos;what&apos;" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">z<options>x&#xD;y&#xD;z</options></input><input type="%n">15</input></inputs><script><block s="doDeclareVariables"><list><l>empty</l></list></block><block s="doSetVar"><l>empty</l><l></l></block><block s="doApplyExtension"><l>bb_rotate(x, y, z)</l><block s="reportAtomicMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicEquals"><list><l></l><block var="which"/></list></block><block var="what"/><block var="empty"/></block></autolambda><list></list></block><block s="reportNewList"><list><l>x</l><l>y</l><l>z</l></list></block></block></block></script></block-definition><block-definition s="set %&apos;which&apos; rotation to %&apos;what&apos;" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">z<options>x&#xD;y&#xD;z</options></input><input type="%n">45</input></inputs><script><block s="doDeclareVariables"><list><l>empty</l></list></block><block s="doSetVar"><l>empty</l><l></l></block><block s="doApplyExtension"><l>bb_setrot(x, y, z)</l><block s="reportAtomicMap"><block s="reifyReporter"><autolambda><block s="reportIfElse"><block s="reportVariadicEquals"><list><l></l><block var="which"/></list></block><block var="what"/><block var="empty"/></block></autolambda><list></list></block><block s="reportNewList"><list><l>x</l><l>y</l><l>z</l></list></block></block></block></script></block-definition><block-definition s="reset" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="stop extruding"></custom-block><custom-block s="go home"></custom-block><custom-block s="clear scene"></custom-block><custom-block s="set scale to %n"><l>1</l></custom-block><block s="doIf"><block s="reportListContainsItem"><block s="reportApplyExtension"><l>var_names(scope)</l><list><l>global</l></list></block><l>bb_stack</l></block><script><block s="doApplyExtension"><l>var_set(name, val)</l><list><l>bb_stack</l><block s="reportNewList"><list></list></block></list></block></script><list></list></block></script></block-definition><block-definition s="clear scene" type="command" category="3D Beetle" helper="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>bb_clear()</l><list></list></block></script></block-definition><block-definition s="go home" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="go to %l"><block s="reportNewList"><list><l>0</l><l>0</l><l>0</l></list></block></custom-block><block s="doApplyExtension"><l>bb_setrot(x, y, z)</l><list><l>0</l><l>0</l><l>0</l></list></block></script></block-definition><block-definition s="go to %&apos;position&apos;" type="command" category="3D Beetle"><header></header><code></code><translations></translations><inputs><input type="%l"></input></inputs><script><block s="doIf"><block s="reportNot"><block s="reportIsA"><block var="position"/><l><option>list</option></l></block></block><script><block s="doSetVar"><l>position</l><block s="reportNewList"><list><l>0</l><l>0</l><l>0</l></list></block></block></script><list></list></block><block s="doApplyExtension"><l>bb_goto(x, y, z)</l><block var="position"/></block></script></block-definition></blocks><script><block s="receiveGo"></block><custom-block s="reset"></custom-block><block s="setColor"><color>129,99,0,1</color></block><custom-block s="set %s rotation to %n"><l>y</l><l>90</l></custom-block><custom-block s="start extruding"></custom-block><custom-block s="move %n steps"><l>4</l></custom-block><custom-block s="stop extruding"></custom-block><custom-block s="tree level %s angle %s leaves %cmdRing"><l>4</l><l>50</l><block s="reifyScript"><script><custom-block s="push position"></custom-block><block s="setColor"><color>41,148,0,1</color></block><custom-block s="set scale to %n"><l>2</l></custom-block><custom-block s="start extruding"></custom-block><custom-block s="move %n steps"><l>0</l></custom-block><custom-block s="set scale to %n"><l>0.001</l></custom-block><custom-block s="move %n steps"><l>1200</l></custom-block><custom-block s="stop extruding"></custom-block><block s="setColor"><color>129,99,0,1</color></block><custom-block s="set scale to %n"><l>1</l></custom-block><custom-block s="pop position"></custom-block></script><list></list></block></custom-block></script></script>